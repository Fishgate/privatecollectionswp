!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){"use strict";var i={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},t=function(){var e=0;return function(){var i=e;return e+=1,".perfect-scrollbar-"+i}}();e.fn.perfectScrollbar=function(a,n){return this.each(function(){var s=e.extend(!0,{},i),o=e(this);if("object"==typeof a?e.extend(!0,s,a):n=a,"update"===n)return o.data("perfect-scrollbar-update")&&o.data("perfect-scrollbar-update")(),o;if("destroy"===n)return o.data("perfect-scrollbar-destroy")&&o.data("perfect-scrollbar-destroy")(),o;if(o.data("perfect-scrollbar"))return o.data("perfect-scrollbar");o.addClass("ps-container");var r,l,d,c,h,u,p,m,v,g,f=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(o),w=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(o),y=e("<div class='ps-scrollbar-x'></div>").appendTo(f),b=e("<div class='ps-scrollbar-y'></div>").appendTo(w),_=parseInt(f.css("bottom"),10),T=_===_,x=T?null:parseInt(f.css("top"),10),S=parseInt(w.css("right"),10),C=S===S,D=C?null:parseInt(w.css("left"),10),k="rtl"===o.css("direction"),H=t(),L=parseInt(f.css("borderLeftWidth"),10)+parseInt(f.css("borderRightWidth"),10),N=parseInt(f.css("borderTopWidth"),10)+parseInt(f.css("borderBottomWidth"),10),W=function(e,i){var t=e+i,a=c-v;g=0>t?0:t>a?a:t;var n=parseInt(g*(u-c)/(c-v),10);o.scrollTop(n),T?f.css({bottom:_-n}):f.css({top:x+n})},V=function(e,i){var t=e+i,a=d-p;m=0>t?0:t>a?a:t;var n=parseInt(m*(h-d)/(d-p),10);o.scrollLeft(n),C?w.css({right:S-n}):w.css({left:D+n})},z=function(e){return s.minScrollbarLength&&(e=Math.max(e,s.minScrollbarLength)),s.maxScrollbarLength&&(e=Math.min(e,s.maxScrollbarLength)),e},I=function(){var e={width:d,display:r?"inherit":"none"};e.left=k?o.scrollLeft()+d-h:o.scrollLeft(),T?e.bottom=_-o.scrollTop():e.top=x+o.scrollTop(),f.css(e);var i={top:o.scrollTop(),height:c,display:l?"inherit":"none"};C?i.right=k?h-o.scrollLeft()-S-b.outerWidth():S-o.scrollLeft():i.left=k?o.scrollLeft()+2*d-h-D-b.outerWidth():D+o.scrollLeft(),w.css(i),y.css({left:m,width:p-L}),b.css({top:g,height:v-N}),r?o.addClass("ps-active-x"):o.removeClass("ps-active-x"),l?o.addClass("ps-active-y"):o.removeClass("ps-active-y")},j=function(){d=s.includePadding?o.innerWidth():o.width(),c=s.includePadding?o.innerHeight():o.height(),h=o.prop("scrollWidth"),u=o.prop("scrollHeight"),!s.suppressScrollX&&d+s.scrollXMarginOffset<h?(r=!0,p=z(parseInt(d*d/h,10)),m=parseInt(o.scrollLeft()*(d-p)/(h-d),10)):(r=!1,p=0,m=0,o.scrollLeft(0)),!s.suppressScrollY&&c+s.scrollYMarginOffset<u?(l=!0,v=z(parseInt(c*c/u,10)),g=parseInt(o.scrollTop()*(c-v)/(u-c),10)):(l=!1,v=0,g=0,o.scrollTop(0)),g>=c-v&&(g=c-v),m>=d-p&&(m=d-p),I()},M=function(){var i,t;y.bind("mousedown"+H,function(e){t=e.pageX,i=y.position().left,f.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+H,function(e){f.hasClass("in-scrolling")&&(V(i,e.pageX-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+H,function(){f.hasClass("in-scrolling")&&f.removeClass("in-scrolling")}),i=t=null},F=function(){var i,t;b.bind("mousedown"+H,function(e){t=e.pageY,i=b.position().top,w.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+H,function(e){w.hasClass("in-scrolling")&&(W(i,e.pageY-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+H,function(){w.hasClass("in-scrolling")&&w.removeClass("in-scrolling")}),i=t=null},Q=function(e,i){var t=o.scrollTop();if(0===e){if(!l)return!1;if(0===t&&i>0||t>=u-c&&0>i)return!s.wheelPropagation}var a=o.scrollLeft();if(0===i){if(!r)return!1;if(0===a&&0>e||a>=h-d&&e>0)return!s.wheelPropagation}return!0},A=function(){s.wheelSpeed/=10;var e=!1;o.bind("mousewheel"+H,function(i,t,a,n){var d=i.deltaX*i.deltaFactor||a,c=i.deltaY*i.deltaFactor||n;e=!1,s.useBothWheelAxes?l&&!r?(c?o.scrollTop(o.scrollTop()-c*s.wheelSpeed):o.scrollTop(o.scrollTop()+d*s.wheelSpeed),e=!0):r&&!l&&(d?o.scrollLeft(o.scrollLeft()+d*s.wheelSpeed):o.scrollLeft(o.scrollLeft()-c*s.wheelSpeed),e=!0):(o.scrollTop(o.scrollTop()-c*s.wheelSpeed),o.scrollLeft(o.scrollLeft()+d*s.wheelSpeed)),j(),e=e||Q(d,c),e&&(i.stopPropagation(),i.preventDefault())}),o.bind("MozMousePixelScroll"+H,function(i){e&&i.preventDefault()})},E=function(){var i=!1;o.bind("mouseenter"+H,function(){i=!0}),o.bind("mouseleave"+H,function(){i=!1});var t=!1;e(document).bind("keydown"+H,function(a){if(!(a.isDefaultPrevented&&a.isDefaultPrevented()||!i||e(document.activeElement).is(":input,[contenteditable]"))){var n=0,s=0;switch(a.which){case 37:n=-30;break;case 38:s=30;break;case 39:n=30;break;case 40:s=-30;break;case 33:s=90;break;case 32:case 34:s=-90;break;case 35:s=-c;break;case 36:s=c;break;default:return}o.scrollTop(o.scrollTop()-s),o.scrollLeft(o.scrollLeft()+n),t=Q(n,s),t&&a.preventDefault()}})},O=function(){var e=function(e){e.stopPropagation()};b.bind("click"+H,e),w.bind("click"+H,function(e){var i=parseInt(v/2,10),t=e.pageY-w.offset().top-i,a=c-v,n=t/a;0>n?n=0:n>1&&(n=1),o.scrollTop((u-c)*n)}),y.bind("click"+H,e),f.bind("click"+H,function(e){var i=parseInt(p/2,10),t=e.pageX-f.offset().left-i,a=d-p,n=t/a;0>n?n=0:n>1&&(n=1),o.scrollLeft((h-d)*n)})},P=function(){var i=function(e,i){o.scrollTop(o.scrollTop()-i),o.scrollLeft(o.scrollLeft()-e),j()},t={},a=0,n={},s=null,r=!1;e(window).bind("touchstart"+H,function(){r=!0}),e(window).bind("touchend"+H,function(){r=!1}),o.bind("touchstart"+H,function(e){var i=e.originalEvent.targetTouches[0];t.pageX=i.pageX,t.pageY=i.pageY,a=(new Date).getTime(),null!==s&&clearInterval(s),e.stopPropagation()}),o.bind("touchmove"+H,function(e){if(!r&&1===e.originalEvent.targetTouches.length){var s=e.originalEvent.targetTouches[0],o={};o.pageX=s.pageX,o.pageY=s.pageY;var l=o.pageX-t.pageX,d=o.pageY-t.pageY;i(l,d),t=o;var c=(new Date).getTime(),h=c-a;h>0&&(n.x=l/h,n.y=d/h,a=c),e.preventDefault()}}),o.bind("touchend"+H,function(){clearInterval(s),s=setInterval(function(){return Math.abs(n.x)<.01&&Math.abs(n.y)<.01?(clearInterval(s),void 0):(i(30*n.x,30*n.y),n.x*=.8,n.y*=.8,void 0)},10)})},q=function(){o.bind("scroll"+H,function(){j()})},$=function(){o.unbind(H),e(window).unbind(H),e(document).unbind(H),o.data("perfect-scrollbar",null),o.data("perfect-scrollbar-update",null),o.data("perfect-scrollbar-destroy",null),y.remove(),b.remove(),f.remove(),w.remove(),f=w=y=b=r=l=d=c=h=u=p=m=_=T=x=v=g=S=C=D=k=H=null},X=function(i){o.addClass("ie").addClass("ie"+i);var t=function(){var i=function(){e(this).addClass("hover")},t=function(){e(this).removeClass("hover")};o.bind("mouseenter"+H,i).bind("mouseleave"+H,t),f.bind("mouseenter"+H,i).bind("mouseleave"+H,t),w.bind("mouseenter"+H,i).bind("mouseleave"+H,t),y.bind("mouseenter"+H,i).bind("mouseleave"+H,t),b.bind("mouseenter"+H,i).bind("mouseleave"+H,t)},a=function(){I=function(){var e={left:m+o.scrollLeft(),width:p};T?e.bottom=_:e.top=x,y.css(e);var i={top:g+o.scrollTop(),height:v};C?i.right=S:i.left=D,b.css(i),y.hide().show(),b.hide().show()}};6===i&&(t(),a())},Y="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,R=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&X(parseInt(e[2],10)),j(),q(),M(),F(),O(),Y&&P(),o.mousewheel&&A(),s.useKeyboard&&E(),o.data("perfect-scrollbar",o),o.data("perfect-scrollbar-update",j),o.data("perfect-scrollbar-destroy",$)};return R(),o})}});