!function(e){var i=e(window);e.fn.visible=function(e,t,a){if(!(this.length<1)){var n=this.length>1?this.eq(0):this,s=n.get(0),o=i.width(),r=i.height(),a=a?a:"both",l=t===!0?s.offsetWidth*s.offsetHeight:!0;if("function"==typeof s.getBoundingClientRect){var d=s.getBoundingClientRect(),h=d.top>=0&&d.top<r,u=d.bottom>0&&d.bottom<=r,p=d.left>=0&&d.left<o,c=d.right>0&&d.right<=o,m=e?h||u:h&&u,v=e?p||c:p&&c;if("both"===a)return l&&m&&v;if("vertical"===a)return l&&m;if("horizontal"===a)return l&&v}else{var g=i.scrollTop(),f=g+r,w=i.scrollLeft(),y=w+o,_=n.offset(),b=_.top,x=b+n.height(),T=_.left,S=T+n.width(),C=e===!0?x:b,D=e===!0?b:x,k=e===!0?S:T,H=e===!0?T:S;if("both"===a)return!!l&&f>=D&&C>=g&&y>=H&&k>=w;if("vertical"===a)return!!l&&f>=D&&C>=g;if("horizontal"===a)return!!l&&y>=H&&k>=w}}}}(jQuery);