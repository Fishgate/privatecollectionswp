!function(e){var i=e(window);e.fn.visible=function(e,t,a){if(!(this.length<1)){var n=this.length>1?this.eq(0):this,r=n.get(0),l=i.width(),o=i.height(),a=a?a:"both",s=t===!0?r.offsetWidth*r.offsetHeight:!0;if("function"==typeof r.getBoundingClientRect){var g=r.getBoundingClientRect(),h=g.top>=0&&g.top<o,m=g.bottom>0&&g.bottom<=o,c=g.left>=0&&g.left<l,d=g.right>0&&g.right<=l,u=e?h||m:h&&m,p=e?c||d:c&&d;if("both"===a)return s&&u&&p;if("vertical"===a)return s&&u;if("horizontal"===a)return s&&p}else{var y=i.scrollTop(),v=y+o,w=i.scrollLeft(),_=w+l,f=n.offset(),b=f.top,k=b+n.height(),D=f.left,V=D+n.width(),H=e===!0?k:b,C=e===!0?b:k,j=e===!0?V:D,Q=e===!0?D:V;if("both"===a)return!!s&&v>=C&&H>=y&&_>=Q&&j>=w;if("vertical"===a)return!!s&&v>=C&&H>=y;if("horizontal"===a)return!!s&&_>=Q&&j>=w}}}}(jQuery);